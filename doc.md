- csgo project
    1. config loading
        - lua script: `LuaDataMgr.lua`
        - concepts 
            - config lua script 
                - sample: `cfg_setting.lua`
                - code generating
                - return a list
            - config **id**
                - `LuaDataMgr` map: string_id -> **id**
                - map: map[string_id] -> config lua script
        - API
            - `LuaDataMgr.GetConfig(id)` -- return config list 
            - `LuaDataMgr.GetConfigByIndex(id, index)` -- return config[index]
            - `LuaDataMgr.SetConfigByIndex(id, index, value)`
    2. sprite loading
        - lua script: `GloabalData.lua`
        - ItemSprite Rule
            - asset name: **prefix_name**
            - asset bundle name: **prefixname** (remove '_' from asset name)
            - API: `AtlasItemFactory:getItemSprite(_, spriteName, spriteObject)`
    3. project key word
        - MainBattle
        - test

- oz net framework
    - server logic
        - mirage
            - the key code is in Mirage (on remote host)
            - Mirage workflow 
                - Client
                    - register Client message 
                        - MsgResponce.lua
                            - `MsgRespone.Client.MsgStr = messageId`
                    - send Client message
                        - `Mirage.Client.MsgStr(Mirage.VENTITY, messageContent)`
                - World
                    - register World message 
                        - MsgResponce.lua
                            - `MsgRespone.World.MsgStr = messageId` 
                    - receive World message
                        - Player.lua
                            - ManFun.lua : `Mirage.Def.Player = Player` (player register)
                            - receive message function
                                - `Player:MsgStr(msg)`
        - require file : requires.lua
    - client logic
        - server message receive
            - message receive callback
                - main.lua : OnGetServerMessage 
            - GameServerController.lua : register oz message callback  
    - message proto logic
        - Game.proto : game message definition
        - Login.proto : login message definition
        - convert.bat : convert message proto into lua file

- oz mvc framework
- mvc abstract
    - m (model)
        - singleton
        - manage proxies
            - proxyMap: name -> proxy
        - method
            - register proxy
            - get proxy
            - remove proxy
    - v (view)
        - singleton
        - manage observers
            - observerMap: notification name -> observer list
        - manage mediators
            - mediatorMap: name -> mediator 
        - method
            - notifyObservers(notification)
                - call callback
            - registerObserver
                - register callback
            - removeObserver
            - register mediator
                - create, init and show mediator
                - using mediator register observers
                    - context is mediator
                    - callback is a method of mediator
                    - notification name from mediator  
                - return mediator
            - remove mediator
    - c (controller)
        - singleton
        - manage commands
            - command map: notification name -> command type  
        - method
            - register command (notification)
                - for first time, register observer 
                    - callback is the method executeCommand of controller
            - execute command(notification)
                - retrive command type 
                - create command instance from type  
                - call execute method from command instance using notification as arguments
            - remove command

- mvc implemention
    - notification
        - name
        - body
        - type
    - command
        - virtual method
            - execute (notification)
    - observer
        - property
            - callback 
            - context 
        - method
            - notifyObserver(notification)
                - callback (context, notification)
    - proxy
        - property
            - name
            - data
        - virtual method
            - get server protocol list  
            - get protocol handler 
        - method
            - register
                - add all internal event to event system 
                    - event name is virtual method(get server protocol list)
                    - event target is proxy self
                    - event callback is virtual method(get protocol handler)  
            - remove
                - remove all internal event from event system
            - send
                - send message to server (brige)
    - mediator
        - property
            - asset bundle path
            - prefab name
            - show type  
        - virtual method
            - get internal notifications name list
            - get notification handler 
            - register
            - remove
            - close 
                - close panel
    - event system
        - singleton
        - manage events
            - event map: event name -> event data(event name, event target, event callback)
        - add event
        - remove event
        - dispatch event

- Lua
    - patterns
        - a character class
            - escape character: % 
            - special character: % () [] - .*+? ^$
                - sequences match character
                    - * : match zero or more, match as long as possible 
                    - + : match one or more
                    - - : match zero or more, match as short as possible
                    - ? : match zero or one
                    - %bxy : match **balanced** string which start with x and end with y
                        - the b means balance
                    - %f[set] : a **frontier** pattern; match a empty string which the next character belongs to set and the previous character does not belong to set
                        - the f means frontier
                    - %n : n between 1 to 9; match a substring equal to the n-th captured string 
            - combined special character:
                - digit
                    - %d : all digits
                        - %D : complement of %d, other % format similar
                    - %x : all hexadecimal digits
                - alpha
                    - %a : all letters
                    - %w : all alphanumberic
                    - %l : all lowercase
                    - %u : all uppercase
                - space
                    - %s : all space 
                - punctuation
                    - %p : all punctuation
                - control
                    - %c : all control
                - special
                    - %g : all printable characters except space
                - character set
                    - [set] : all character in set
                    - [^set] : complement of set
            - captures
                - a pattern can contain sub-patterns enclosed in parentheses; they describe captures 
